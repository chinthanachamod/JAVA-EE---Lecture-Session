<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax Examples</title>
</head>
<body>
<h1>Ajax Example project</h1>
<p id="para"> This is an example project for ajax</p>
<button id="ajax-button">Send a Ajax Request</button>
<img id="dynamic-img">

<table class="table table-striped">
    <thead>
        <tr>
            <th>Post ID</th>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Body</th>
        </tr>
    </thead>
    <tbody id="tbl"></tbody>
</table>

<script src="assets/js/jquery-3.7.1.min.js"></script>
<!--<script>
    $('#ajax-button').click(function (){
        /*console.log("Button is Worked");*/
        var http=new XMLHttpRequest();
        console.log(http.readyState, "After the XMLHttpRequest Object  Created");
        /*http.open('GET', 'db/db.txt');*/
        http.open('GET', 'images/464475.jpg');
        console.log(http.readyState, "After the OPEN Method invoked");
        console.log(http.responseText);
        console.log(http.readyState, "After the Response Text Printed");
        // XMLHttpRequest Open method required 2 arguments (method and url)
            // method - purpose of the request (GET, POST, PUT, DELETE, etc...)
            // url - destination of the request / the file location

        http.send();
        console.log(http.readyState, "After the SEND Method invoked");
        http.onreadystatechange = function () {
        /*console.log("test");*/
            console.log(http.readyState, "Inside On Ready State Change Event");
            console.log(http.responseText);
            console.log(http.status);

            if (http.status==200 && http.readyState==4){
                /*$('#para').text(http.responseText);*/     //wrap karagatta paragraph eke id eka,.text(http.responseText) deela set kala
                //set image
                $('#dynamic-img').attr('src', 'images/464475.jpg').show();
            }
        }

        console.log("Request Finished !");
    });
</script>-->

<!--<script>
    // Synchronous request
    console.log("start");
    console.log("middle");
    console.log("end");

    // Asynchronous request
    console.log("start");
    setTimeout(()=>{
        console.log("middle");
    }, 2000);
    console.log("end");

</script>-->

<!--<script>
    $('#ajax-button').click(function () {
        console.log("Request Started");
        var http = new XMLHttpRequest();
        http.open('GET', 'db/db.txt');
        http.send();
        http.onreadystatechange = function () {
            if (http.status == 200 && http.readyState == 4) {
                $('#para').text(http.responseText);
                console.log(http.responseText);
            }
        }
    });
</script>-->

<!--<script>
    $('#ajax-button').click(function () {
        console.log("Started");
        $.ajax({
            url: 'https://jsonplaceholder.typicode.com/comments', // JSON Placeholder Response
            method: 'GET',
            async: false, //synchronous request, but it is not recommended, because it will block the UI
            success: function (response) {
                $('#para').text(response);
                console.log(response);
            },
            error: function (error) {
                console.log(error);
            }
        });
        console.log("Ended");
    });

</script>-->

<!--///////////////////// set details into the table /////////////////////////-->
<!--<script>
    $('#ajax-button').click(() => {
        console.log('started');
        $.ajax({
            url: 'https://jsonplaceholder.typicode.com/comments',
            // url: 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js',
            method: "GET",
            success: (response) => {

                $('#tbl').empty();


                response.forEach((item) => {
                    const row = `
                    <tr>
                        <td>${item.postId}</td>
                        <td>${item.id}</td>
                        <td>${item.name}</td>
                        <td>${item.email}</td>
                        <td>${item.body}</td>
                    </tr>
                `;
                    $('#tbl').append(row);
                });

                console.log(response);
            },
            error: (error) => {
                console.log(error);
            }
        });
        console.log('ended');
    });

</script>-->

<script>
    $('#ajax-button').click(function () {
        console.log("Request Started");
        $.ajax({
            url: 'http://localhost:8080/HelloServelet_war_exploded/hello',
           /* method: 'GET',*/
            /*method: 'POST',*/
            /*method: 'PUT',*/
            /*method: 'DELETE',*/
            method: 'OPTIONS',
            async: false, //synchronous request, but it is not recommended, because it will block the UI
            success: function (response) {
                $('#para').text(response);
                console.log(response);
            },
            error: function (error) {
                console.log(error);
            }
        });
        console.log("Ended");
    });

</script>

</body>
</html>